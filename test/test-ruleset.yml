functionsDir: ../spectral/functions
functions:
  - ensurePropertiesExample
  - ensureAllArraysHaveItemTypes
  - ensureSnakeCaseWithDigits
  - validateOperationIdNaming
rules:
  schema-parameters-must-have-meaningful-id-names:
    description: >-
      Meaningful schema ids must be used in the form of {entity}Id. ie
      customerId, betterCloudUserId
    given: $.components.schemas..required[?(@ == 'id')]
    message: '{{description}}'
    severity: error
    then:
      function: pattern
      functionOptions:
        match: ^[a-z]+((\d)|([A-Z0-9][a-z0-9]+))*([A-Z])?Id$
